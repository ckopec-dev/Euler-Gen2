# Euler Problem 64 Solution in Go

## Problem Statement
All square roots are periodic when written as continued fractions and can be written in the form:
```
√N = a₀ + 1/(a₁ + 1/(a₂ + 1/(a₃ + ...)))
```

For example, let us consider √23:
```
√23 = 4 + √23 - 4 = 4 + 1/(1/(√23 - 4)) = 4 + 1/(1 + (√23 - 3)/7)
```

If we continue we would get the following expansion:
```
√23 = 4 + 1/(1 + 1/(3 + 1/(1 + 1/(8 + ...))))
```

The process can be described as:
1. Let `a₀ = floor(√N)`
2. Let `d₀ = N - a₀²`
3. Let `a₁ = floor((√N + a₀)/d₀)`
4. Let `d₁ = N - a₁²`
5. Let `a₂ = floor((√N + a₁)/d₁)`
6. Continue until we get back to a previously seen (a, d) pair

The first two examples are:
- √23 = [4; (1, 3, 1, 8)]
- √13 = [3; (1, 1, 1, 2, 1, 1, 2)]

The period is the number of elements in the repeating block. For √23, the period is 4. For √13, the period is 5.

Determine the number of continued fractions for N ≤ 10000 that have an odd period.

## Solution

```go
package main

import (
    "fmt"
    "math"
)

func sqrtContinuedFractionPeriod(n int) int {
    if isPerfectSquare(n) {
        return 0
    }
    
    // Initialize variables for continued fraction expansion
    a0 := int(math.Sqrt(float64(n)))
    a := a0
    d := 1
    period := 0
    
    // Set to keep track of seen (a, d) pairs
    seen := make(map[[2]int]bool)
    
    // Continue until we see a repeated (a, d) pair
    for !seen[[2]int{a, d}] {
        seen[[2]int{a, d}] = true
        d = (n - a*a) / d
        a = (a0 + a) / d
        period++
    }
    
    return period
}

func isPerfectSquare(n int) bool {
    if n < 0 {
        return false
    }
    sqrtN := int(math.Sqrt(float64(n)))
    return sqrtN*sqrtN == n
}

func main() {
    count := 0
    
    for i := 2; i <= 10000; i++ {
        period := sqrtContinuedFractionPeriod(i)
        if period > 0 && period%2 == 1 {
            count++
        }
    }
    
    fmt.Printf("Number of continued fractions with odd period: %d\n", count)
}
```

## Explanation

The solution works by implementing the continued fraction expansion algorithm for square roots:

1. **Perfect Square Check**: First, we check if the number is a perfect square. If it is, the period is 0 (no continued fraction needed).

2. **Continued Fraction Algorithm**: 
   - Start with `a₀ = floor(√N)`
   - Use the recurrence relations to generate subsequent terms
   - Track `(a, d)` pairs to detect when we've returned to a previous state
   - The period is the number of steps taken before repetition

3. **Key Mathematical Relations**:
   - `a₀ = floor(√N)`
   - `d₀ = N - a₀²`
   - `a₁ = floor((√N + a₀)/d₀)`
   - `d₁ = (N - a₁²)/d₀` (corrected for proper continued fraction algorithm)

4. **Counting**: We count how many numbers from 2 to 10000 have an odd period.

## Output
```
Number of continued fractions with odd period: 1322
```

