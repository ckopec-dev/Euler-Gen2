# Euler Problem 125 Solution in Ruby

## Problem Statement
The palindromic number 595 is interesting because it can be written as the sum of consecutive squares: 6² + 7² + 8² + 9² + 10² + 11² + 12² = 595.

There are exactly eleven palindromes below one-thousand that can be written as consecutive square sums. Note that 1 = 1² is not included as it's not a sum of consecutive squares.

Find the sum of all the numbers below one million that can be written as the sum of consecutive square numbers.

## Solution

```ruby
def is_palindrome?(n)
  str = n.to_s
  str == str.reverse
end

def euler_125(limit)
  palindromes = Set.new
  max_base = Math.sqrt(limit).to_i
  
  # Try all possible consecutive square sums
  (1..max_base).each do |start|
    sum = 0
    (start..max_base).each do |end_num|
      sum += end_num * end_num
      break if sum >= limit
      
      if is_palindrome?(sum)
        palindromes.add(sum)
      end
    end
  end
  
  palindromes.sum
end

# Run the solution
require 'set'
result = euler_125(1000000)
puts result
```

## Explanation

The approach works as follows:

1. **Palindrome Check**: First, I create a helper method `is_palindrome?` that checks if a number is palindromic by converting it to a string and comparing it with its reverse.

2. **Main Algorithm**: For Euler Problem 125, I need to find all numbers below one million that can be expressed as sums of consecutive squares.

3. **Nested Loop Strategy**: 
   - Outer loop: Iterate through possible starting numbers for consecutive square sequences
   - Inner loop: For each starting number, keep adding consecutive squares until we exceed the limit
   - At each step, check if the current sum is palindromic and below the limit

4. **Optimization**: 
   - Calculate `max_base` as the square root of the limit to avoid unnecessary calculations
   - Break the inner loop early when sum exceeds the limit
   - Use a Set to automatically handle duplicates

5. **Result**: Sum all unique palindromic numbers that can be expressed as consecutive square sums.

## Key Insights

- We only need to check up to the square root of the limit for our starting points
- The sum grows quickly, so we can break early when exceeding the limit
- Using a Set ensures we don't count the same palindrome multiple times
- The algorithm efficiently generates consecutive square sums without precomputing all possible combinations

The solution efficiently finds all palindromic numbers below one million that can be expressed as sums of consecutive squares and returns their sum.

