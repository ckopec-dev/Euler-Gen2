# Euler Problem 64 Solution in C#

## Problem Statement
All square roots are periodic when written as continued fractions and can be written in the form:
```
√N = a₀ + 1/(a₁ + 1/(a₂ + 1/(a₃ + ...)))
```

For example, let us consider √23:
```
√23 = 4 + √23 - 4 = 4 + 1/(1/(√23 - 4)) = 4 + 1/(1 + (√23 - 3)/7)
```

If we continue we would get the following expansion:
```
√23 = 4 + 1/(1 + 1/(3 + 1/(1 + 1/(8 + ...))))
```

The process can be described as:
1. Let a₀ = floor(√N)
2. Let d₀ = N - a₀²
3. Let a₁ = floor(1/(√N - a₀)/d₀)
4. Let d₁ = d₀ × (a₁ + a₀) - d₀ × a₁²
5. Continue until we get a repeating pattern

The first ten continued fraction representations of (irrational) square roots are:
```
√2 = [1;(2)]        period = 1
√3 = [1;(1,2)]      period = 2
√5 = [2;(4)]        period = 1
√6 = [2;(2,4)]      period = 2
√7 = [2;(1,1,1,4)]  period = 4
√8 = [2;(1,4)]      period = 2
√10 = [3;(6)]       period = 1
√11 = [3;(3,6)]     period = 2
√12 = [3;(2,6)]     period = 2
√13 = [3;(1,1,1,1,6)] period = 5
```

Exactly four continued fractions for N ≤ 13 have an odd period.

How many continued fractions for N ≤ 10000 have an odd period?

## Solution

```csharp
using System;
using System.Collections.Generic;

public class Program
{
    public static void Main()
    {
        int count = 0;
        
        for (int n = 2; n <= 10000; n++)
        {
            if (IsPerfectSquare(n))
                continue;
                
            int period = CalculatePeriod(n);
            if (period % 2 == 1)
                count++;
        }
        
        Console.WriteLine($"Number of odd periods: {count}");
    }
    
    private static bool IsPerfectSquare(int n)
    {
        int sqrt = (int)Math.Sqrt(n);
        return sqrt * sqrt == n;
    }
    
    private static int CalculatePeriod(int n)
    {
        int a0 = (int)Math.Sqrt(n);
        int d = 1;
        int m = 0;
        int a = a0;
        int period = 0;
        
        // Continue until we find a repeating pattern
        // We know that the period will repeat when we get back to (m=0, d=1)
        while (true)
        {
            m = d * a - m;
            d = (n - m * m) / d;
            a = (a0 + m) / d;
            period++;
            
            if (d == 1)
                break;
        }
        
        return period;
    }
}
```

## Explanation

The solution uses the standard algorithm for finding the continued fraction representation of √N:

1. **Initialization**: 
   - Set a₀ = floor(√N)
   - Set d₀ = 1, m₀ = 0

2. **Iterative Process**:
   - Calculate m_{k+1} = d_k × a_k - m_k
   - Calculate d_{k+1} = (N - m_{k+1}²) / d_k
   - Calculate a_{k+1} = floor((a₀ + m_{k+1}) / d_{k+1})
   - Increment period counter

3. **Termination**: The process stops when d_k = 1, which indicates we've found the repeating cycle.

4. **Optimization**: 
   - Skip perfect squares since they have period 0
   - Count only odd periods

## Key Insights

- For any non-perfect square N, the continued fraction expansion of √N is always periodic
- The period length determines whether we have an odd or even period
- The algorithm terminates when we return to the initial form (m=0, d=1)
- The mathematical properties of continued fractions guarantee this repetition

## Result
The answer is **1322** odd periods for N ≤ 10000.

