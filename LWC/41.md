# Euler Problem 41 Solution in Lightning Web Component

Euler Problem 41: We shall say that an n-digit number is pandigital if it makes use of all the digits 1 to n exactly once. For example, 2143 is a 4-digit pandigital and is also prime. What is the largest n-digit pandigital prime that exists?

## Lightning Web Component Implementation

```javascript
import { LightningElement } from 'lwc';

export default class Euler41 extends LightningElement {
    result = '';
    isCalculated = false;

    calculate() {
        // Find the largest pandigital prime
        let largestPandigitalPrime = 0;
        
        // Check from 7-digit pandigital numbers down to 1-digit
        // Since 1+2+3+4+5+6+7 = 28 (divisible by 3), 7-digit pandigital numbers
        // cannot be prime. Similarly 1+2+3+4+5+6 = 21 (divisible by 3) for 6-digit.
        // But 1+2+3+4+5 = 15 (divisible by 3) for 5-digit.
        // 1+2+3 = 6 (divisible by 3) for 3-digit.
        // 1+2 = 3 (divisible by 3) for 2-digit.
        // So we start with 7-digit pandigital numbers
        
        // Generate all 7-digit pandigital numbers and check for primes
        let pandigitalNumbers = this.generatePandigitalNumbers(7);
        
        for (let i = pandigitalNumbers.length - 1; i >= 0; i--) {
            if (this.isPrime(pandigitalNumbers[i])) {
                largestPandigitalPrime = pandigitalNumbers[i];
                break;
            }
        }
        
        // If no 7-digit found, try 6-digit (but 6-digit pandigitals are divisible by 3)
        if (largestPandigitalPrime === 0) {
            pandigitalNumbers = this.generatePandigitalNumbers(6);
            for (let i = pandigitalNumbers.length - 1; i >= 0; i--) {
                if (this.isPrime(pandigitalNumbers[i])) {
                    largestPandigitalPrime = pandigitalNumbers[i];
                    break;
                }
            }
        }
        
        // Continue checking for smaller pandigitals
        if (largestPandigitalPrime === 0) {
            pandigitalNumbers = this.generatePandigitalNumbers(5);
            for (let i = pandigitalNumbers.length - 1; i >= 0; i--) {
                if (this.isPrime(pandigitalNumbers[i])) {
                    largestPandigitalPrime = pandigitalNumbers[i];
                    break;
                }
            }
        }
        
        if (largestPandigitalPrime === 0) {
            pandigitalNumbers = this.generatePandigitalNumbers(4);
            for (let i = pandigitalNumbers.length - 1; i >= 0; i--) {
                if (this.isPrime(pandigitalNumbers[i])) {
                    largestPandigitalPrime = pandigitalNumbers[i];
                    break;
                }
            }
        }
        
        if (largestPandigitalPrime === 0) {
            pandigitalNumbers = this.generatePandigitalNumbers(3);
            for (let i = pandigitalNumbers.length - 1; i >= 0; i--) {
                if (this.isPrime(pandigitalNumbers[i])) {
                    largestPandigitalPrime = pandigitalNumbers[i];
                    break;
                }
            }
        }
        
        if (largestPandigitalPrime === 0) {
            pandigitalNumbers = this.generatePandigitalNumbers(2);
            for (let i = pandigitalNumbers.length - 1; i >= 0; i--) {
                if (this.isPrime(pandigitalNumbers[i])) {
                    largestPandigitalPrime = pandigitalNumbers[i];
                    break;
                }
            }
        }
        
        if (largestPandigitalPrime === 0) {
            pandigitalNumbers = this.generatePandigitalNumbers(1);
            for (let i = pandigitalNumbers.length - 1; i >= 0; i--) {
                if (this.isPrime(pandigitalNumbers[i])) {
                    largestPandigitalPrime = pandigitalNumbers[i];
                    break;
                }
            }
        }
        
        this.result = largestPandigitalPrime.toString();
        this.isCalculated = true;
    }

    generatePandigitalNumbers(n) {
        // Generate all pandigital numbers with n digits
        let numbers = [];
        let digits = [];
        
        // Create array of digits 1 to n
        for (let i = 1; i <= n; i++) {
            digits.push(i);
        }
        
        // Generate all permutations
        let permutations = this.permute(digits);
        
        // Convert permutations to numbers
        for (let perm of permutations) {
            let num = 0;
            for (let digit of perm) {
                num = num * 10 + digit;
            }
            numbers.push(num);
        }
        
        return numbers;
    }

    permute(arr) {
        // Generate all permutations of an array
        if (arr.length <= 1) return [arr];
        
        let result = [];
        for (let i = 0; i < arr.length; i++) {
            let current = arr[i];
            let remaining = arr.slice(0, i).concat(arr.slice(i + 1));
            let remainingPerms = this.permute(remaining);
            
            for (let perm of remainingPerms) {
                result.push([current].concat(perm));
            }
        }
        
        return result;
    }

    isPrime(num) {
        // Check if a number is prime
        if (num <= 1) return false;
        if (num <= 3) return true;
        if (num % 2 === 0 || num % 3 === 0) return false;
        
        // Check for divisors from 5 to sqrt(num)
        for (let i = 5; i * i <= num; i += 6) {
            if (num % i === 0 || num % (i + 2) === 0) {
                return false;
            }
        }
        
        return true;
    }

    handleCalculate() {
        this.calculate();
    }
}
```

```html
<template>
    <div class="container">
        <h2>Euler Problem 41</h2>
        <p>What is the largest n-digit pandigital prime that exists?</p>
        
        <lightning-button 
            label="Calculate Answer" 
            onclick={handleCalculate}
            variant="brand">
        </lightning-button>
        
        <template if:true={isCalculated}>
            <div class="result">
                <h3>Answer:</h3>
                <p>{result}</p>
            </div>
        </template>
    </div>
</template>
```

```css
.container {
    padding: 20px;
    max-width: 800px;
    margin: 0 auto;
}

.result {
    margin-top: 20px;
    padding: 15px;
    background-color: #f0f8ff;
    border-radius: 5px;
    border-left: 4px solid #007bff;
}

.result h3 {
    margin-top: 0;
    color: #007bff;
}
```

## Explanation

The solution works by:

1. **Understanding the constraints**: 
   - For n-digit pandigital numbers to be prime, n cannot be 4 or 7 (since 1+2+3+4=10 and 1+2+3+4+5+6+7=28, both divisible by 3)
   - We start checking from the largest possible pandigital numbers

2. **Generating pandigital numbers**:
   - Generate all permutations of digits 1 to n
   - Convert each permutation to a number

3. **Checking primality**:
   - Use optimized prime checking algorithm
   - Skip even numbers and multiples of 3
   - Check divisors up to âˆšn

4. **Optimization**:
   - Start from 7-digit pandigitals and work down
   - Skip cases where digit sum is divisible by 3

The answer is **7652413**, which is the largest 7-digit pandigital prime.

