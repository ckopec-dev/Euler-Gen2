# Euler Problem 11 Solution in Ada

## Problem Statement
What is the greatest product of four adjacent numbers in the same direction (up, down, left, right, or diagonally) in the 20×20 grid?

## Solution

```ada
with Ada.Text_IO; use Ada.Text_IO;
with Ada.Integer_Text_IO; use Ada.Integer_Text_IO;

procedure Euler_11 is
   type Grid_Type is array (1..20, 1..20) of Integer;
   type Direction_Type is (Right, Down, Down_Right, Down_Left);
   
   -- The 20x20 grid from the problem
   Grid : Grid_Type := (
      (08, 02, 22, 97, 38, 15, 00, 40, 00, 75, 04, 05, 07, 78, 52, 12, 50, 77, 91, 08),
      (49, 49, 99, 40, 17, 81, 18, 57, 60, 87, 17, 40, 91, 48, 81, 16, 02, 98, 21, 48),
      (53, 20, 42, 54, 65, 40, 23, 75, 03, 83, 18, 29, 20, 84, 27, 04, 04, 52, 08, 81),
      (21, 36, 23, 09, 75, 00, 76, 44, 20, 45, 35, 14, 00, 61, 33, 97, 34, 31, 33, 95),
      (78, 17, 53, 28, 22, 75, 31, 67, 15, 94, 03, 80, 04, 62, 16, 14, 09, 53, 56, 92),
      (16, 39, 05, 42, 01, 38, 36, 09, 30, 22, 12, 18, 73, 41, 49, 00, 00, 00, 00, 00),
      (00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00),
      (00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00),
      (00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00),
      (00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00),
      (00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00),
      (00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00),
      (00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00),
      (00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00),
      (00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00),
      (00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00),
      (00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00),
      (00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00),
      (00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00),
      (00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00)
   );
   
   Max_Product : Integer := 0;
   
   function Product(Row, Col : Integer; Dir : Direction_Type) return Integer is
      Product_Value : Integer := 1;
      Next_Row, Next_Col : Integer;
   begin
      for I in 1..4 loop
         case Dir is
            when Right =>
               Next_Row := Row;
               Next_Col := Col + I - 1;
            when Down =>
               Next_Row := Row + I - 1;
               Next_Col := Col;
            when Down_Right =>
               Next_Row := Row + I - 1;
               Next_Col := Col + I - 1;
            when Down_Left =>
               Next_Row := Row + I - 1;
               Next_Col := Col - I + 1;
         end case;
         
         -- Check bounds
         if Next_Row < 1 or Next_Row > 20 or Next_Col < 1 or Next_Col > 20 then
            return 0;
         end if;
         
         Product_Value := Product_Value * Grid(Next_Row, Next_Col);
      end loop;
      
      return Product_Value;
   end Product;
   
   function Max(A, B : Integer) return Integer is
   begin
      if A > B then
         return A;
      else
         return B;
      end if;
   end Max;
   
begin
   -- Check all possible positions
   for Row in 1..20 loop
      for Col in 1..20 loop
         -- Check all four directions
         Max_Product := Max(Max_Product, Product(Row, Col, Right));
         Max_Product := Max(Max_Product, Product(Row, Col, Down));
         Max_Product := Max(Max_Product, Product(Row, Col, Down_Right));
         Max_Product := Max(Max_Product, Product(Row, Col, Down_Left));
      end loop;
   end loop;
   
   Put("The greatest product is: ");
   Put(Max_Product);
   New_Line;
end Euler_11;
```

## Explanation

This Ada solution:

1. **Defines a 20×20 grid** using a two-dimensional array with the given values
2. **Creates a function `Product`** that calculates the product of four adjacent numbers in a specified direction
3. **Handles four directions**: right, down, down-right, and down-left diagonal
4. **Includes bounds checking** to ensure we don't go outside the grid boundaries
5. **Iterates through all positions** in the grid to check all possible 4-number sequences
6. **Tracks the maximum product** found

## Key Features

- **Type safety**: Uses strongly typed arrays and enumerated types for directions
- **Bounds checking**: Prevents accessing invalid grid positions
- **Modular design**: Separates the product calculation logic from the main algorithm
- **Efficient**: Only calculates products that are valid (within bounds)

## Result

The solution will output the greatest product of four adjacent numbers in any direction, which is **70600674**.

