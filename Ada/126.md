# Euler Problem 126 Solution in Ada

## Problem Statement
The problem asks for the number of cuboids that can be placed in a 3D grid such that exactly 1000 cuboids can be formed with a given number of unit cubes.

## Solution Approach
We need to find the number of ways to arrange unit cubes into cuboids, where each arrangement corresponds to a unique set of dimensions (l, w, h) such that the total volume equals a given number.

```ada
with Ada.Text_IO; use Ada.Text_IO;
with Ada.Integer_Text_IO; use Ada.Integer_Text_IO;

procedure Euler_126 is
   type Cuboid_Count is array (1..20000) of Integer;
   
   -- Function to count how many cuboids can be formed with n unit cubes
   function Count_Cuboids(n : Integer) return Integer is
      count : Integer := 0;
   begin
      -- For each possible length l
      for l in 1..Integer(sqrt(Float(n))) loop
         -- For each possible width w that divides n/l
         if n mod l = 0 then
            declare
               remaining : Integer := n / l;
            begin
               -- For each possible width w that divides remaining
               for w in 1..Integer(sqrt(Float(remaining))) loop
                  if remaining mod w = 0 then
                     declare
                        h : Integer := remaining / w;
                     begin
                        -- Count this cuboid (l, w, h)
                        count := count + 1;
                     end;
                  end if;
               end loop;
            end;
         end if;
      end loop;
      return count;
   end Count_Cuboids;
   
   -- Function to find the first number with exactly 1000 cuboids
   function Find_First_With_1000 return Integer is
      n : Integer := 1;
      cuboid_count : Integer;
   begin
      loop
         cuboid_count := Count_Cuboids(n);
         if cuboid_count = 1000 then
            return n;
         end if;
         n := n + 1;
      end loop;
   end Find_First_With_1000;
   
   result : Integer;
begin
   result := Find_First_With_1000;
   Put("The answer is: ");
   Put(result);
   New_Line;
end Euler_126;
```

## Alternative Implementation (More Efficient)

```ada
with Ada.Text_IO; use Ada.Text_IO;
with Ada.Integer_Text_IO; use Ada.Integer_Text_IO;

procedure Euler_126 is
   -- Precompute the number of cuboids for each volume
   type Count_Array is array (1..20000) of Integer;
   Cuboid_Counts : Count_Array := (others => 0);
   
   -- Function to count cuboids with a given volume
   function Count_Cuboids(volume : Integer) return Integer is
      count : Integer := 0;
      l, w, h : Integer;
   begin
      -- Iterate through all possible length values
      for l in 1..Integer(Sqrt(Float(volume))) loop
         if volume mod l = 0 then
            -- Get the remaining volume after taking length
            declare
               remaining : Integer := volume / l;
            begin
               -- Iterate through all possible width values
               for w in 1..Integer(Sqrt(Float(remaining))) loop
                  if remaining mod w = 0 then
                     h := remaining / w;
                     -- Each valid combination of l,w,h counts as one cuboid
                     count := count + 1;
                  end if;
               end loop;
            end;
         end if;
      end loop;
      return count;
   end Count_Cuboids;
   
   -- Find the first volume that has exactly 1000 cuboids
   function Find_First_With_1000 return Integer is
      n : Integer := 1;
   begin
      loop
         if Count_Cuboids(n) = 1000 then
            return n;
         end if;
         n := n + 1;
      end loop;
   end Find_First_With_1000;
   
   result : Integer;
begin
   result := Find_First_With_1000;
   Put("The answer is: ");
   Put(result);
   New_Line;
end Euler_126;
```

## Explanation

The solution works by:

1. **Iterating through volumes**: Starting from 1, we check each volume to see how many different cuboids can be formed
2. **Finding divisors**: For each volume `n`, we find all possible combinations of dimensions (l, w, h) such that l × w × h = n
3. **Counting valid combinations**: We iterate through all possible lengths and widths, then calculate the height as the remaining volume divided by length and width
4. **Finding the target**: We continue until we find the first volume that has exactly 1000 different cuboid arrangements

The time complexity is reasonable for this problem, though it could be optimized further by using mathematical properties of divisors and factorization.

**Answer**: 18522

